import{R as l,j as e,B as i,y as u,z as g,i as p,e as j,k as b}from"./index-BVrTOPYR.js";import{g as y}from"./articleLoader-CfRqmP2j.js";function w(){const[r,o]=l.useState([]),[m,n]=l.useState(!0),[c,d]=l.useState(null);l.useEffect(()=>{(async()=>{try{n(!0),d(null);const t=await y();o(t)}catch(t){console.error("Error fetching articles:",t),d("Failed to load articles")}finally{n(!1)}})()},[]);const x=a=>new Date(a).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"}),h=l.useMemo(()=>r.reduce((a,t)=>{const s=t.section||t.category||"Uncategorized";return a[s]||(a[s]=[]),a[s].push(t),a},{}),[r]);return m?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(i,{items:[{label:"Home",path:"/"},{label:"All Articles",path:"/articles"}]}),e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(u,{size:"lg"})})]}):c?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(i,{items:[{label:"Home",path:"/"},{label:"All Articles",path:"/articles"}]}),e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-600 mb-4",children:c}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Try Again"})]})})]}):e.jsx(g,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(MetaTags,{title:"Medical Cannabis Articles UK - Educational Resources & Guides",description:"Browse all medical cannabis articles, guides, and educational resources. Expert insights on UK treatment options, regulations, and patient experiences.",canonicalUrl:"https://comparetheleaf.co.uk/articles",keywords:["medical cannabis articles","cannabis education UK","medical cannabis guides","cannabis resources"]}),e.jsx(i,{items:[{label:"Home",path:"/"},{label:"All Articles",path:"/articles"}]}),e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"All Articles"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Browse all our articles about medical cannabis treatment, regulations, and best practices."})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:r.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No published articles available yet."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Articles published in the admin panel will appear here."})]}):e.jsx("div",{className:"space-y-16",children:Object.entries(h).map(([a,t])=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," article",t.length!==1?"s":""]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>e.jsx(p,{to:`/articles/${s.slug}`,className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:s.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:x(s.date)})]}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:["Read More",e.jsx(b,{className:"h-4 w-4 ml-1"})]})]}),s.view_count&&s.view_count>0&&e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[s.view_count," views"]})]})},s.slug))})]},a))})})]})})}export{w as default};
