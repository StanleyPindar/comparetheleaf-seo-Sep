import{u,f as h,R as l,j as e,y as g,z as p,M as f,B as j,A as b,e as N,p as y}from"./index-BVrTOPYR.js";import{a as v,i as w}from"./articleLoader-CfRqmP2j.js";import{U as A}from"./user-D-kl7VW9.js";function C(){const{slug:r}=u(),i=h(),[t,d]=l.useState(null),[m,c]=l.useState(!0),[n,a]=l.useState(null);if(l.useEffect(()=>{(async()=>{if(!r){a("No article slug provided"),c(!1);return}try{c(!0),a(null);const s=await v(r);s?(d(s),s.id&&w(s.id)):a("Article not found")}catch(s){console.error("Error fetching article:",s),a("Failed to load article")}finally{c(!1)}})()},[r]),m)return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(g,{size:"lg"})})});if(n||!t)return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Article Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:n||"The article you're looking for doesn't exist or has been moved."}),e.jsx("button",{onClick:()=>i("/articles"),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Back to Articles"})]})})});const x=o=>new Date(o).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"});return e.jsx(p,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(f,{title:t.meta_title||t.title,description:t.meta_description||t.excerpt,datePublished:t.created_at||t.date,dateModified:t.updated_at,author:t.author,type:"Article",keywords:t.tags||[],canonicalUrl:`https://comparetheleaf.co.uk/articles/${t.slug}`}),e.jsx(j,{items:[{label:"Home",path:"/"},{label:"Articles",path:"/articles"},{label:t.title,path:`/articles/${t.slug}`}]}),e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("button",{onClick:()=>i("/articles"),className:"inline-flex items-center text-blue-600 hover:text-blue-800 mb-4",children:[e.jsx(b,{className:"h-4 w-4 mr-2"}),"Back to Articles"]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("article",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"mb-6",children:e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:t.category||t.section||"Article"})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-6",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-gray-600 mb-8",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:t.author||"CompareTheLeaf Team"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:x(t.date)})]}),t.view_count&&t.view_count>0&&e.jsx("div",{className:"flex items-center",children:e.jsxs("span",{children:[t.view_count," views"]})})]}),e.jsx("div",{className:"prose prose-lg max-w-none",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:t.content}})})]}),e.jsx("div",{className:"px-8 pb-8",children:e.jsx(y,{})})]}),e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-600 to-green-600 rounded-lg p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Ready to Find Your Perfect Clinic?"}),e.jsx("p",{className:"text-blue-100 mb-6 max-w-2xl mx-auto",children:"Use our clinic matching quiz to find the best medical cannabis clinic for your specific needs."}),e.jsx("button",{onClick:()=>i("/quiz"),className:"bg-white text-blue-600 px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Take our three-minute quiz"})]})]})]})})}export{C as default};
