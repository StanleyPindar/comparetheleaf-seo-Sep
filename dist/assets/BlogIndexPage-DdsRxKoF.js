import{f as j,R as t,j as e,y as m,z as b,M as N,e as f,m as w,k as v}from"./index-BVrTOPYR.js";import{g as y}from"./articleLoader-CfRqmP2j.js";import{U as A}from"./user-D-kl7VW9.js";const U=()=>{const x=j(),[a,h]=t.useState([]),[i,n]=t.useState(!0),[r,c]=t.useState(null);t.useEffect(()=>{(async()=>{try{n(!0),c(null);const l=await y();h(l)}catch(l){console.error("Error fetching articles:",l),c("Failed to load articles")}finally{n(!1)}})()},[]);const g=t.useMemo(()=>{const s=["All"],l=[...new Set(a.map(p=>p.category||"Uncategorized"))];return[...s,...l]},[a]),d=t.useMemo(()=>a.slice(0,2),[a]),o=s=>{x(`/articles/${s}`)},u=s=>new Date(s).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"});return i?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(m,{size:"lg"})})}):r?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-600 mb-4",children:r}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Try Again"})]})})}):e.jsx(b,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(N,{title:"Medical Cannabis Blog & Articles UK - Latest News & Research",description:"Stay informed with the latest medical cannabis news, research, and insights. Expert articles about UK treatment options, regulations, and patient experiences.",keywords:["medical cannabis blog","cannabis news UK","medical cannabis research","cannabis articles"],canonicalUrl:"https://comparetheleaf.co.uk/blog"}),e.jsx("div",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Blog & Articles"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Stay informed with the latest news, research, and insights about medical cannabis treatment in the UK."})]})})}),e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:g.map(s=>e.jsx("button",{className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:s},s))})})}),d.length>0&&e.jsx("div",{className:"py-8",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.slice(0,1).map(s=>e.jsx("div",{onClick:()=>o(s.slug),className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 cursor-pointer overflow-hidden mb-8",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-1/3 h-64 md:h-auto bg-gradient-to-r from-blue-500 to-green-500"}),e.jsxs("div",{className:"md:w-2/3 p-8",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs bg-blue-100 text-blue-800 mr-3",children:"Featured"}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs bg-gray-100 text-gray-800",children:s.category||"Article"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:s.title}),e.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:s.excerpt}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"mr-4",children:s.author||"CompareTheLeaf Team"}),e.jsx(f,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"mr-4",children:u(s.date)}),s.view_count&&e.jsxs(e.Fragment,{children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[s.view_count," views"]})]})]}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium",children:["Read More",e.jsx(v,{className:"h-4 w-4 ml-1"})]})]})]})]})},s.id||s.slug))})}),i&&e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsx(m,{size:"lg"})}),r&&e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("p",{className:"text-red-600 mb-4",children:r}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Try Again"})]})}),!i&&!r&&e.jsx("div",{className:"pb-16",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.length===0?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:[e.jsx("p",{className:"text-gray-500 text-lg",children:"No published articles available yet."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Articles published in the admin panel will appear here."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.slice(1).map(s=>e.jsxs("div",{onClick:()=>o(s.slug),className:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow duration-300 cursor-pointer overflow-hidden",children:[e.jsx("div",{className:"h-48 bg-gradient-to-r from-blue-400 to-green-400"}),e.jsx("div",{className:"p-6"})]},s.id||s.slug))})})})]})})};export{U as default};
